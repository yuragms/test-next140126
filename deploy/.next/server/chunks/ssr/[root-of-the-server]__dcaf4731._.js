module.exports=[56179,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(80115)},31950,(a,b,c)=>{b.exports=a.x("mongoose-e757cd974c72aad8",()=>require("mongoose-e757cd974c72aad8"))},49125,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},6104,a=>{"use strict";var b=a.i(56179),c=a.i(31950);let d=a.g.mongoose||{conn:null,promise:null},e=async(a=process.env.MONGODB_URI)=>{if(d.conn)return d.conn;if(!a)throw Error("MONGODB_URI is missing");return d.promise=d.promise||c.default.connect(a),d.conn=await d.promise,d.conn},f=new c.Schema({name:{type:String,required:!0},slug:{type:String,required:!0,unique:!0},category:{type:String,required:!0},images:[String],brand:{type:String,required:!0},description:{type:String,trim:!0},price:{type:Number,required:!0},listPrice:{type:Number,required:!0},countInStock:{type:Number,required:!0},tags:{type:[String],default:["new arrival"]},colors:{type:[String],default:["White","Red","Black"]},sizes:{type:[String],default:["S","M","L"]},avgRating:{type:Number,required:!0,default:0},numReviews:{type:Number,required:!0,default:0},ratingDistribution:[{rating:{type:Number,required:!0},count:{type:Number,required:!0}}],numSales:{type:Number,required:!0,default:0},isPublished:{type:Boolean,required:!0,default:!1},reviews:[{type:c.Schema.Types.ObjectId,ref:"Review",default:[]}]},{timestamps:!0}),g=c.models.Product||(0,c.model)("Product",f);async function h(){return await e(),await g.find({isPublished:!0}).distinct("category")}async function i({tag:a,limit:b=4}){return await e(),JSON.parse(JSON.stringify(await g.find({tags:{$in:[a]},isPublished:!0},{name:1,href:{$concat:["/product/","$slug"]},image:{$arrayElemAt:["$images",0]}}).sort({createdAt:"desc"}).limit(b)))}(0,a.i(49125).ensureServerEntryExports)([h,i]),(0,b.registerServerReference)(h,"0017bd343dd9564d31a56190f4b6a8580d9c831e98",null),(0,b.registerServerReference)(i,"4057be128153b98eaa2c1023b4184a0d5b306f98c2",null),a.s(["getAllCategories",()=>h,"getProductsForCard",()=>i],6104)},70739,a=>{"use strict";var b=a.i(6104);a.s([],94764),a.i(94764),a.s(["0017bd343dd9564d31a56190f4b6a8580d9c831e98",()=>b.getAllCategories,"4057be128153b98eaa2c1023b4184a0d5b306f98c2",()=>b.getProductsForCard],70739)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__dcaf4731._.js.map